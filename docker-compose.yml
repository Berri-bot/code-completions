version: '3.8'

services:
  code_completion:
    build: .
    ports:
      - "8001:8001"
    volumes:
      - ./workspace:/app/workspace
      - ./logs:/app/logs
    environment:
      - JAVA_HOME=/app/lsp/java/jdk-21.0.2
      - JDT_HOME=/app/lsp/java/jdt-language-server-1.37.0
      - WORKSPACE_DIR=/app/workspace
    mem_limit: 4g
    restart: unless-stopped